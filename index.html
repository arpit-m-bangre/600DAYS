<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>üåÖ LIFE 2.0 ‚Äî Discipline Blueprint ¬∑ 600 Days</title>

  <!-- SEO / Social -->
  <meta name="description" content="LIFE 2.0 is Arpit Bangre‚Äôs focused operating system for discipline, learning, and mastery ‚Äî plans, routines, roadmaps, and trackers in one place." />
  <meta property="og:title" content="LIFE 2.0 ‚Äî Discipline Blueprint ¬∑ 600 Days" />
  <meta property="og:description" content="Simple. Focused. Unstoppable. Rebuild stronger, calmer, laser-focused." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#00ffe0" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Orbitron:wght@600&display=swap" rel="stylesheet">

  <style>
    /* =========================================================
       PERFORMANCE-FIRST THEME (mobile-friendly, buttery smooth)
       ========================================================= */
    :root{
      --bg-1: #06080d;
      --bg-2: #0a0f1a;
      --glass: rgba(20,26,36,.6);
      --glass-2: rgba(32,40,56,.45);
      --text: #e6f7f6;
      --muted: #a9c9c6;
      --brand: #00ffe0;
      --brand-2: #2ab3ff;
      --border: rgba(0,255,224,.22);
      --ring: rgba(0,255,224,.45);
      --card-shadow: 0 8px 22px rgba(0,0,0,.45), 0 0 30px rgba(0,255,224,.10);
      --danger: #ff7b7b;
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    /* Smooth page scrolling */
    html { scroll-behavior: smooth; }

    body{
      margin:0;
      font-family:'Poppins',system-ui,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background: var(--bg-1);
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      -webkit-overflow-scrolling: touch; /* iOS smooth */
      transition: background .6s ease, color .3s ease;
    }

    /* Subtle static noise layer (no animation = zero jank) */
    body::before{
      content:""; position:fixed; inset:0; pointer-events:none; z-index:0;
      background-image: radial-gradient(rgba(255,255,255,.05) 1px, transparent 1px);
      background-size: 3px 3px; opacity:.22; mix-blend-mode:soft-light;
    }

    /* =============================
       LIGHT BACKGROUND STACK
       ============================= */
    #bg { position: fixed; inset: 0; z-index: -2; overflow: clip; contain: strict; }

    .bg-gradient {
      position:absolute; inset:-10%;
      filter: blur(26px);
      background:
        radial-gradient(1200px 800px at 20% 10%, #0d1626 0%, transparent 60%),
        radial-gradient(900px 600px at 80% 20%, #071421 0%, transparent 60%),
        radial-gradient(700px 500px at 40% 90%, #0b0f16 0%, transparent 60%);
      will-change: opacity, transform;
      animation: bgBreathe 16s ease-in-out infinite;
    }
    @keyframes bgBreathe {
      0%,100% { opacity:.9; transform: translate3d(0,0,0) scale(1) }
      50% { opacity:.8; transform: translate3d(0,-2%,0) scale(1.02) }
    }

    .bg-grid {
      position:absolute; inset:0; opacity:.07;
      mask-image: radial-gradient(55% 60% at 50% 30%, black 55%, transparent 100%);
      background:
        linear-gradient(transparent 31px, rgba(0,255,224,.30) 32px),
        linear-gradient(90deg, transparent 31px, rgba(0,255,224,.30) 32px);
      background-size: 32px 32px;
      transform: perspective(900px) rotateX(55deg) translateY(22%);
      transform-origin: 50% 0%;
      filter: drop-shadow(0 0 6px rgba(0,255,224,.25));
      will-change: transform;
    }

    .bg-aurora {
      position:absolute; inset:-20%; filter: blur(52px) saturate(120%);
      background:
        radial-gradient(50% 45% at 20% 30%, rgba(0,255,224,.22), transparent 60%),
        radial-gradient(50% 45% at 80% 20%, rgba(42,179,255,.20), transparent 60%),
        radial-gradient(60% 55% at 50% 80%, rgba(0,255,224,.16), transparent 60%);
      animation: auroraDrift 18s ease-in-out infinite;
      will-change: transform, opacity;
    }
    @keyframes auroraDrift {
      0%,100% { transform: translate3d(0,0,0) scale(1); opacity:.95 }
      50% { transform: translate3d(0,-3%,0) scale(1.03); opacity:.9 }
    }

    /* Blur orbs disabled on mobile for perf (see media query) */
    .orb { position:absolute; width:38vmin; aspect-ratio:1; border-radius:50%;
      filter: blur(28px);
      background: radial-gradient(circle at 35% 35%, rgba(0,255,224,.20), rgba(0,255,224,0) 65%);
      mix-blend-mode: screen; animation: float 14s ease-in-out infinite; opacity:.75; will-change: transform; }
    .orb.o1 { left:-8vmin; top:10vmin; }
    .orb.o2 { right:-10vmin; top:18vmin; animation-delay: -6s; }
    .orb.o3 { left:15vmin; bottom:-6vmin; animation-delay: -3s; }
    @keyframes float { 0%,100%{ transform: translateY(0) } 50%{ transform: translateY(-5%) } }

    /* Starfield canvas (adaptive in JS) */
    #stars { position:absolute; inset:0; opacity:.32; }

    /* =============================
       APP UI
       ============================= */
    body.locked > #app{ display:none !important; }

    #login{
      position:fixed; inset:0; z-index:2000;
      display:flex; align-items:center; justify-content:center;
      background: transparent;
      transition: opacity .5s ease, visibility .5s ease;
      will-change: opacity;
    }
    #login.hidden{ opacity:0; visibility:hidden; pointer-events:none; }

    .login-card{
      width:min(360px,92%); padding:24px 20px;
      border-radius:16px; border:1px solid var(--border);
      background: linear-gradient(0deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      box-shadow: var(--card-shadow); text-align:center;
    }
    /* Fallback if backdrop-filter is not supported (many Androids) */
    @supports not ((backdrop-filter: blur(12px)) or (-webkit-backdrop-filter: blur(12px))) {
      .login-card { background: rgba(18,24,34,.8) }
    }

    .login-title{
      font-family:'Orbitron',sans-serif; color:var(--brand); margin:2px 0 8px;
      text-shadow:0 0 14px rgba(0,255,224,.55);
    }
    .login-sub{ color:var(--muted); margin-bottom:12px; }
    .login-input{
      width:100%; padding:12px 14px; margin:6px 0 8px; border-radius:12px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.05); color:var(--text);
      outline:none; box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
      text-align:center; font-size:1rem;
    }
    .login-row{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin:6px 0 2px; color:var(--muted); font-size:.92rem; }
    .login-btn{
      width:100%; padding:12px; border-radius:12px; border:1px solid transparent;
      background:
        linear-gradient(0deg, rgba(255,255,255,.06), rgba(255,255,255,.03)) padding-box,
        linear-gradient(135deg, rgba(0,255,224,.28), rgba(0,180,255,.18)) border-box;
      color:var(--brand); font-weight:600; letter-spacing:.3px; cursor:pointer;
      box-shadow: var(--card-shadow); backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition: transform .18s cubic-bezier(.2,.8,.2,1), box-shadow .18s ease;
      font-family:'Orbitron',sans-serif;
    }
    .login-btn:hover{ transform: translateY(-2px); }
    .login-err{ color:var(--danger); min-height:18px; margin-top:8px; font-size:.92rem; }

    /* Top nav */
    nav{
      position:fixed; top:0; left:0; right:0; z-index:1000;
      display:flex; align-items:center; justify-content:center; gap:28px;
      padding:12px 16px; backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(10,14,22,.66), rgba(10,14,22,.44));
      border-bottom: 1px solid rgba(255,255,255,.06);
      transition: transform .35s ease, background .35s ease, padding .18s ease;
      will-change: transform;
    }
    .nav-wrap{display:flex; gap:24px; align-items:center}
    nav a{
      color:var(--brand); text-decoration:none; font-family:'Orbitron',sans-serif; font-size:.92rem; letter-spacing:.8px;
      position:relative; text-transform:uppercase; padding:6px 2px; outline:none;
    }
    nav a::after{
      content:""; position:absolute; left:0; right:0; bottom:-6px; height:2px; width:0%; margin:auto;
      background:linear-gradient(90deg, var(--brand), var(--brand-2)); box-shadow:0 0 12px var(--brand);
      transition: width .22s ease;
    }
    nav a:focus-visible, nav a:hover{color:#affff6}
    nav a:hover::after, nav a:focus-visible::after{width:100%}
    .nav-shrink{padding:8px 16px; background:rgba(10,14,22,.70)}

    /* Hero */
    header{ text-align:center; padding:120px 20px 20px; position:relative; }
    header h1{
      font-family:'Orbitron',sans-serif; font-size: clamp(1.9rem, 3.6vw, 2.8rem);
      color:var(--brand); text-shadow: 0 0 18px rgba(0,255,224,.7);
      letter-spacing:.4px; margin: 0 0 6px;
      animation: glow 2.6s ease-in-out infinite alternate;
      will-change: filter;
    }
    @keyframes glow{from{ text-shadow:0 0 12px rgba(0,255,224,.55)} to{ text-shadow:0 0 30px rgba(0,255,224,1)} }
    header p{ color:var(--muted); font-size:clamp(1rem, 2.2vw, 1.15rem); margin:0 0 8px }
    .tagline{ color:var(--brand); font-style:italic; opacity:.9 }

    /* Primary CTA */
    .strict-cta-wrap{ display:flex; justify-content:center; padding: 12px 20px 30px }
    .strict-cta{
      display:inline-flex; align-items:center; gap:10px; padding: 12px 16px; border-radius: 14px;
      color: var(--brand); text-decoration:none; font-weight:600; letter-spacing:.3px;
      background:
        linear-gradient(0deg, rgba(255,255,255,.06), rgba(255,255,255,.03)) padding-box,
        linear-gradient(135deg, rgba(0,255,224,.28), rgba(0,180,255,.18)) border-box;
      border: 1px solid transparent; box-shadow: var(--card-shadow); backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition: transform .16s cubic-bezier(.2,.8,.2,1), box-shadow .16s ease;
      position:relative; isolation:isolate;
      animation: ctaPulse 2.8s ease-in-out infinite;
      will-change: transform;
    }
    .strict-cta span{ font-size: clamp(.95rem, 2.2vw, 1.05rem); text-shadow:0 0 8px rgba(0,255,224,.55) }
    .strict-cta::after{
      content:""; position:absolute; inset:-2px; border-radius:16px; pointer-events:none;
      background: radial-gradient(80% 60% at 50% 50%, rgba(0,255,224,.10), transparent 70%);
      opacity:.7; filter: blur(8px); z-index:-1;
    }
    @keyframes ctaPulse{0%,100%{ transform:translateY(0)} 50%{ transform:translateY(-2px)}}
    @media (hover:hover) and (pointer:fine){ .strict-cta:hover{ transform: translateY(-3px) scale(1.015) } }

    /* Search / filter */
    .toolbar{ display:flex; gap:12px; justify-content:center; padding: 2px 20px 18px }
    .input{
      width:min(720px, 92%); padding:12px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.08);
      background: var(--glass); color:var(--text); outline:none; box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
    }
    .input::placeholder{ color:#9fb9b6 }

    /* Cards grid */
    .container{ display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; padding: 8px 8% 44px }
    .card{
      background: var(--glass); border:1px solid var(--border); border-radius:16px; padding:24px 18px; text-align:center;
      box-shadow: var(--card-shadow); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      cursor:pointer; position:relative; overflow:hidden; outline:none; contain: paint;
    }
    .card h2{color:var(--brand); margin:6px 0 8px; font-size:1.06rem}
    .card p{color:var(--muted); margin:0}
    .card::before{
      content:""; position:absolute; inset:0;
      background: radial-gradient(300px 110px at var(--x, 50%) var(--y, 0%), rgba(0,255,224,.14), transparent 60%);
      transition: opacity .15s ease; opacity:0; pointer-events:none;
    }
    .card:hover{ transform: translateY(-6px); box-shadow: 0 14px 36px rgba(0,0,0,.5), 0 0 34px rgba(0,255,224,.18) }
    .card:hover::before{opacity:1}
    .card:focus-visible{ box-shadow: 0 0 0 3px var(--ring) }

    /* Doc view */
    #doc-content{ display:none; padding: 74px 10% 56px; animation: fadeIn .6s ease both }
    #doc-inner{ max-width: 980px; margin: 0 auto }
    @keyframes fadeIn{ from{ opacity:0; transform: translateY(24px) } to{ opacity:1; transform: translateY(0) } }

    /* Back btn */
    #back-btn{
      display:inline-flex; align-items:center; gap:8px; margin-bottom:18px; color:var(--brand);
      border:1px solid var(--border); padding:9px 16px; border-radius:20px; text-transform:uppercase; font-size:.9rem; cursor:pointer;
      background: linear-gradient(0deg, rgba(255,255,255,.02), rgba(255,255,255,.01)); transition: .18s ease; outline:none;
    }
    #back-btn:hover{ box-shadow:0 0 14px rgba(0,255,224,.22) }
    #back-btn:focus-visible{ box-shadow: 0 0 0 3px var(--ring) }

    /* About + Footer */
    #about{ padding: 56px 8%; max-width: 980px; margin: 0 auto }
    #about h2{ color:var(--brand); margin:16px 0 }
    #about p{ color:#c9e3e0; line-height:1.75 }
    footer{ text-align:center; padding: 28px 0 36px; color:#9fcac6; font-size:.95rem; border-top:1px solid rgba(255,255,255,.08) }
    .logout{ color:#9fcac6; text-decoration:underline; cursor:pointer; }

    /* MOBILE PERF TWEAKS: remove the heavy layers + effects */
    @media (max-width: 768px){
      .bg-grid, .orb { display:none !important; }     /* biggest win */
      .bg-aurora { animation-duration: 14s; filter: blur(44px); }
      header{padding-top:110px}
      .container{padding: 6px 6% 40px}
      nav .nav-wrap{gap:16px}
      .card:hover{ transform:none }                    /* no hover jumps on touch */
    }

    /* Reduced motion/data: turn off background animations entirely */
    @media (prefers-reduced-motion: reduce){
      .bg-gradient, .bg-aurora, .orb, header h1, .strict-cta { animation: none !important; }
      .bg-grid{ transform: none; }
    }
  </style>
</head>
<body class="locked">
  <!-- DYNAMIC BACKGROUND -->
  <div id="bg" aria-hidden="true">
    <canvas id="stars"></canvas>
    <div class="bg-gradient"></div>
    <div class="bg-aurora"></div>
    <div class="bg-grid"></div>
    <div class="orb o1"></div>
    <div class="orb o2"></div>
    <div class="orb o3"></div>
  </div>

  <!-- LOGIN OVERLAY -->
  <section id="login" aria-labelledby="login-title" role="dialog" aria-modal="true">
    <div class="login-card">
      <h2 id="login-title" class="login-title">üîê LIFE 2.0 ‚Äî Login</h2>
      <div class="login-sub">Enter your credentials to continue</div>
      <input id="login-user" class="login-input" type="text" placeholder="Username" autocomplete="username" />
      <input id="login-pass" class="login-input" type="password" placeholder="Password" autocomplete="current-password" />
      <div class="login-row">
        <label style="display:flex;align-items:center;gap:8px;cursor:pointer">
          <input id="remember" type="checkbox" /> Remember me
        </label>
        <button id="login-btn" class="login-btn" aria-label="Login">ENTER</button>
      </div>
      <div id="login-err" class="login-err" aria-live="polite"></div>
    </div>
  </section>

  <!-- APP WRAPPER -->
  <div id="app">
    <!-- NAV -->
    <nav id="topnav" aria-label="Primary">
      <div class="nav-wrap">
        <a href="#" id="nav-home">Home</a>
        <a href="#docs">Docs</a>
        <a href="#about">About</a>
      </div>
    </nav>

    <!-- HERO -->
    <header id="main-header">
      <h1>üåÖ LIFE 2.0 ‚Äî Discipline Blueprint 600 DAYS</h1>
      <p>‚ÄúSimple. Focused. Unstoppable.‚Äù ‚Äî Arpit‚Äôs Roadmap to Mastery</p>
      <div class="tagline">Rebuild stronger. Calmer. Laser-focused. ‚ö°</div>
    </header>

    <!-- CTA -->
    <div id="strict-cta" class="strict-cta-wrap">
      <a class="strict-cta" href="strictplan.html" aria-label="Open strict daily routine plan">
        <span>Open the strict daily routine plan</span>
      </a>
    </div>

    <!-- Tools / Search -->
    <div class="toolbar" role="search">
      <input id="filter" class="input" type="search" placeholder="Filter docs by title or description‚Ä¶ (e.g., data science, routine, finance)" aria-label="Filter documents" />
    </div>

    <!-- DOC CARDS -->
    <section id="docs" class="container" aria-live="polite">
      <button class="card" data-file="docs/01-planner.html" aria-label="Open 01 ‚Äî Career by 23">
        <h2>üåü 01 ‚Äî CAREER BY AGE 23</h2>
        <p>Build your career foundation before 23.</p>
      </button>

      <button class="card" data-file="docs/02-structured-routine.html" aria-label="Open 02 ‚Äî Strict lifestyle by 23">
        <h2>üôèüèª 02 ‚Äî STRICT LIFESTYLE BY AGE 23</h2>
        <p>Discipline, routine, and unbreakable focus.</p>
      </button>

      <button class="card" data-file="docs/03-data-science-roadmap.html" aria-label="Open 03 ‚Äî Data Science as a Career">
        <h2>üîí 03 ‚Äî DATA SCIENCE AS A CAREER LOCKED</h2>
        <p>Master your AI + data science journey.</p>
      </button>

      <button class="card" data-file="docs/04-govt-opportunities.html" aria-label="Open 04 ‚Äî Government opportunities after 23">
        <h2>üèõÔ∏è 04 ‚Äî GOV OPPORTUNITIES AFTER AGE 23</h2>
        <p>Top national tech and IT government roles.</p>
      </button>

      <button class="card" data-file="docs/05-financial-goals.html" aria-label="Open 05 ‚Äî Financial condition by 27">
        <h2>üíµ 05 ‚Äî FINANCIAL CONDITION BY AGE 27</h2>
        <p>Plan your income and savings for long-term success.</p>
      </button>

      <button class="card" data-file="docs/06-habit-tracker.html" aria-label="Open 06 ‚Äî Daily habits">
        <h2>üïñ 06 ‚Äî DAILY HABIT</h2>
        <p>Daily actions that define your future.</p>
      </button>

      <button class="card" data-file="docs/07-mca-curriculum.html" aria-label="Open 07 ‚Äî MCA">
        <h2>üìñ 07 ‚Äî MCA</h2>
        <p>Master your MCA journey with clarity and purpose.</p>
      </button>
    </section>

    <!-- DOCUMENT VIEW -->
    <section id="doc-content">
      <button id="back-btn" aria-label="Go back to documents">‚Üê Back</button>
      <div id="doc-inner" role="region" aria-label="Document content"></div>
    </section>

    <!-- ABOUT -->
    <section id="about">
      <h2>About</h2>
      <p>
        LIFE 2.0 is a focused personal operating system designed by <strong>Arpit Bangre</strong>. This site is a hub for plans,
        routines, learning roadmaps, and trackers ‚Äî all in one place.
      </p>
      <p><span id="logout" class="logout" role="button" tabindex="0">Log out</span></p>
    </section>

    <footer>
      üí° Designed & Built by <strong>Arpit Bangre</strong> ¬∑ LIFE 2.0 Framework ¬© 2025
    </footer>
  </div>

  <!-- Single, optimized JS (no external files needed) -->
  <script>
    /* =========================
       PASSIVE EVENT LISTENERS
       ========================= */
    const addPassive = (el, evt, fn) => {
      try { el.addEventListener(evt, fn, { passive: true }); }
      catch { el.addEventListener(evt, fn); }
    };

    /* =========================
       STARFIELD (adaptive FPS & count)
       ========================= */
    (function(){
      const canvas = document.getElementById('stars');
      const ctx = canvas.getContext('2d', { alpha: true });
      let w=0,h=0, stars=[]; let rafId=null; let dpr=Math.min(window.devicePixelRatio||1,2);

      const smallScreen = matchMedia('(max-width: 768px)').matches;
      const saveData = (navigator.connection && navigator.connection.saveData) ? true : false;
      const reduceMotion = matchMedia('(prefers-reduced-motion: reduce)').matches;

      // Fewer stars on mobile / save-data
      const BASE_COUNT = reduceMotion ? 0 : (saveData ? 40 : (smallScreen ? 60 : 130));
      let STAR_COUNT = BASE_COUNT;

      // Target ~30fps on mobile to avoid jank
      const targetFPS = smallScreen || saveData ? 30 : 60;
      const frameInterval = 1000 / targetFPS;
      let lastTime = 0;

      function resize(){
        w = canvas.clientWidth = window.innerWidth;
        h = canvas.clientHeight = window.innerHeight;
        canvas.width = Math.floor(w * dpr);
        canvas.height = Math.floor(h * dpr);
        ctx.setTransform(dpr,0,0,dpr,0,0);
        stars = Array.from({length: STAR_COUNT}, () => ({
          x: Math.random()*w,
          y: Math.random()*h,
          r: Math.random()*1.1 + 0.25,
          s: Math.random()*0.5 + 0.1,
          a: Math.random()*Math.PI*2
        }));
      }

      function draw(now){
        if (now - lastTime < frameInterval) { rafId = requestAnimationFrame(draw); return; }
        lastTime = now;

        ctx.clearRect(0,0,w,h);
        for(const st of stars){
          st.a += st.s * 0.012; // twinkle
          const tw = 0.55 + Math.sin(st.a)*0.45;
          ctx.globalAlpha = 0.5 + tw*0.5;
          ctx.beginPath();
          ctx.arc(st.x, st.y, st.r*(0.85+tw*0.15), 0, Math.PI*2);
          ctx.fillStyle = 'white';
          ctx.fill();
        }
        rafId = requestAnimationFrame(draw);
      }

      function start(){ if(!rafId && STAR_COUNT>0) rafId = requestAnimationFrame(draw); }
      function stop(){ if(rafId){ cancelAnimationFrame(rafId); rafId=null; } }

      resize(); start();
      addPassive(window,'resize', resize);
      document.addEventListener('visibilitychange', () => document.hidden ? stop() : start(), { passive: true });

      // Respect user motion settings dynamically
      matchMedia('(prefers-reduced-motion: reduce)').addEventListener?.('change', (e)=>{
        if(e.matches){ stop(); STAR_COUNT = 0; resize(); }
        else { STAR_COUNT = BASE_COUNT; resize(); start(); }
      });
    })();

    /* =========================
       AUTH
       ========================= */
    const AUTH_KEY = 'life20_auth_v1';
    const loginEl = document.getElementById('login');
    const rememberEl = document.getElementById('remember');
    const userEl = document.getElementById('login-user');
    const passEl = document.getElementById('login-pass');
    const btnEl  = document.getElementById('login-btn');
    const errEl  = document.getElementById('login-err');

    function isAuthed(){
      try { return localStorage.getItem(AUTH_KEY) === 'ok'; } catch { return false; }
    }
    function setAuthed(on){
      try {
        if(on) localStorage.setItem(AUTH_KEY, 'ok');
        else localStorage.removeItem(AUTH_KEY);
      } catch(e) {}
    }
    function showApp(){
      loginEl.classList.add('hidden');
      document.body.classList.remove('locked');
      initApp();
    }
    function tryLogin(){
      const u = (userEl.value || '').trim();
      const p = (passEl.value || '').trim();
      if(u === 'arpit' && p === '2004'){
        if(rememberEl.checked) setAuthed(true);
        showApp();
      } else {
        errEl.textContent = '‚ùå Incorrect username or password.';
      }
    }

    btnEl.addEventListener('click', tryLogin);
    document.addEventListener('keydown', (e)=>{
      if(!loginEl.classList.contains('hidden') && e.key === 'Enter'){ tryLogin(); }
    }, { passive: true });

    if(isAuthed()){ showApp(); } else { userEl.focus(); }

    /* =========================
       APP INIT (post-auth)
       ========================= */
    function initApp(){
      const cards = document.querySelectorAll('.card');
      const docsContainer = document.getElementById('docs');
      const docContent = document.getElementById('doc-content');
      const docInner = document.getElementById('doc-inner');
      const backBtn = document.getElementById('back-btn');
      const header = document.getElementById('main-header');
      const navHome = document.getElementById('nav-home');
      const strictCTA = document.getElementById('strict-cta');
      const filterInput = document.getElementById('filter');
      const topnav = document.getElementById('topnav');
      const logout = document.getElementById('logout');

      // Logout handler
      function doLogout(){ setAuthed(false); location.reload(); }
      logout?.addEventListener('click', doLogout);
      logout?.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); doLogout(); } });

      // Accessibility: make cards behave like links
      cards.forEach((card) => card.setAttribute('role','button'));

      function filterCards(query){
        const q = query.trim().toLowerCase();
        let anyVisible = false;
        cards.forEach(card => {
          const text = card.innerText.toLowerCase();
          const match = !q || text.includes(q);
          card.style.display = match ? '' : 'none';
          if(match) anyVisible = true;
        });
        docsContainer.setAttribute('aria-busy','false');
        docsContainer.setAttribute('aria-live','polite');
        if(!anyVisible){ docsContainer.dataset.empty = 'true'; } else { delete docsContainer.dataset.empty; }
      }

      filterInput?.addEventListener('input', (e) => filterCards(e.target.value), { passive: true });

      // Lightweight hover spotlight (desktop only)
      const finePointer = matchMedia('(hover:hover) and (pointer:fine)').matches;
      if (finePointer) {
        cards.forEach(card => {
          card.addEventListener('pointermove', (e) => {
            const rect = card.getBoundingClientRect();
            card.style.setProperty('--x', (e.clientX - rect.left) + 'px');
            card.style.setProperty('--y', (e.clientY - rect.top) + 'px');
          }, { passive: true });
        });
      }

      async function fetchWithFallback(path) {
        const tryFetch = async (p) => {
          const res = await fetch(p);
          if (res.ok) return await res.text();
          throw new Error(res.status + ' ' + res.statusText);
        };
        try {
          return await tryFetch(path);
        } catch (e) {
          if (path.endsWith('.htm')) {
            const alt = path + 'l';
            const resAlt = await fetch(alt);
            if (resAlt.ok) return await resAlt.text();
          } else if (path.endsWith('.html')) {
            const alt = path.slice(0, -1);
            const resAlt = await fetch(alt);
            if (resAlt.ok) return await resAlt.text();
          }
          throw e;
        }
      }

      cards.forEach(card => {
        card.addEventListener('click', async () => {
          const file = card.getAttribute('data-file');
          try {
            const html = await fetchWithFallback(file);
            docInner.innerHTML = html;
            docsContainer.style.display = 'none';
            header.style.display = 'none';
            if (strictCTA) strictCTA.style.display = 'none';
            docContent.style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
          } catch (err) {
            docInner.innerHTML = `
              <div style="padding:16px;border:1px solid rgba(255,255,255,0.15);border-radius:12px;background:rgba(255,255,255,0.03)">
                <h3 style="color:#ff7b7b;margin-bottom:8px;">Couldn‚Äôt load this document.</h3>
                <p style="color:#bbb;line-height:1.6">
                  Tried: <code>${file}</code> and its alternate extension.<br/>
                  Please check that the file exists inside <code>/docs</code> and the name/extension is correct.
                </p>
              </div>`;
            docsContainer.style.display = 'none';
            header.style.display = 'none';
            if (strictCTA) strictCTA.style.display = 'none';
            docContent.style.display = 'block';
            console.error('Fetch error:', err);
          }
        });
        // Keyboard access
        card.addEventListener('keydown', (e) => {
          if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); card.click(); }
        });
        card.tabIndex = 0;
      });

      backBtn.addEventListener('click', () => {
        docContent.style.display = 'none';
        docsContainer.style.display = 'grid';
        header.style.display = 'block';
        if (strictCTA) strictCTA.style.display = 'flex';
        window.scrollTo({ top: 0, behavior: 'smooth' });
        filterInput?.focus();
      });

      navHome.addEventListener('click', (e) => { e.preventDefault(); backBtn.click(); });

      // Smooth page fade-in (tiny and cheap)
      document.body.style.opacity = '0';
      requestAnimationFrame(() => {
        document.body.style.transition = 'opacity 800ms ease';
        document.body.style.opacity = '1';
      });

      // NAV SHRINK ‚Äî rAF throttle to keep scroll silky
      let ticking = false;
      let lastY = 0;
      addPassive(window, 'scroll', () => {
        if (!ticking) {
          requestAnimationFrame(() => {
            const y = window.scrollY;
            if (y > 60 && y > lastY) { topnav.classList.add('nav-shrink'); }
            else if (y < 30) { topnav.classList.remove('nav-shrink'); }
            lastY = y;
            ticking = false;
          });
          ticking = true;
        }
      });
    }
  </script>

  <noscript>JavaScript is required for LIFE 2.0 to function. Please enable it.</noscript>
</body>
</html>
